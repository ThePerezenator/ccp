<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>{{ setlist }}</title>
    <link rel="stylesheet" href="/static/styles.css" />
</head>
<body>
<div class="header">
    <h1>Firefly</h1>
</div>
<div class="navbar">
  <input class="btn" type="submit" value="Main" onclick="window.location='{{ request.url_root }}';"/>
  <input class="btn" type="submit" value="Refresh" onclick="window.location='{{ request.url_root }}open/?setlist={{setlist}}';"/>
  <form action="#" method="post">
    <div>
      <input class="textfield" type="text" name="song" placeholder="New Song"/>
      <input class="textfield" type="text" name="artist" placeholder="Artist"/>
      <input class="textfield" type="text" name="release" placeholder="Release"/>
    </div>
    <p><input class="btn" type="submit" value="Submit" /></p>
  </form>
</div>
<div class="content">
  <script src="https://www.kryogenix.org/code/browser/sorttable/sorttable.js"></script>

  <h2>{{ setlist }}</h2>
  <table class="sortable">
    <tr class="table__header">
      {% for header in setlist_headings %}
        {% if "​" in header %}
          <th class = "sorttable_nosort table_cell">{{ header }}</th>
        {% else %}
          <th class = "sorttable_numeric table_cell">{{ header }}</th>
        {% endif %} 
      {% endfor %}
    </tr>
    {% for row in setlist_data %}
    <tr class="table__row">
      {% for cell in row %}
      <td class="table__cell">{{ cell }}</td>
        {% if "​" in cell %}
        <td>
          <button class="btn" onclick="window.open('https://www.google.com/search?q={{ cell }} chords','_blank')">Chords</button>
          <input class="btn" type="submit" value="Remove" onclick="window.location='{{ request.url_root }}open/?setlist={{ setlist }}&remove={{ cell }}'" />
          </td>
        {% endif %}
      {% endfor %}
    </tr>
    {% endfor %}
  </table>
</div>
</body>
</html>

