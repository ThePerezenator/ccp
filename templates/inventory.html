{% include 'header.html' %}
<link rel="stylesheet" href="{{ url_for('static', filename='inventory.css') }}">
<div class="inventory-container">
    <div class="inventory-list">
        <h2>My Inventory</h2>
        <table>
            <thead>
                <tr>
                    <th>Ingredient</th>
                    <th style="text-align: center;">Quantity</th>
                    <th></th>
                </tr>
            </thead>
            <tbody>
                {% for item in items %}
                <tr>
                    <td><a href="{{ url_for('product_page', code=item[3]) }}">{{ item[4] }}</a></td>
                    <td>
                        <div class="quantity-controls">
                            <a href="/inventory/decrease/{{ item[0] }}" class="quantity-btn">-</a>
                            <span>{{ item[2] }}</span>
                            <a href="/inventory/increase/{{ item[0] }}" class="quantity-btn">+</a>
                        </div>
                    </td>
                    <td><a href="/inventory/remove/{{ item[0] }}" class="remove-btn">Remove</a></td>
                </tr>
                {% else %}
                <tr>
                    <td colspan="4">Your Inventory is empty. Add an item below!</td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
    <div class="inventory-add-form">
        <h2>Add Item</h2>
        <form action="/inventory/add" method="POST">
            <input type="text" name="name" placeholder="Ingredient Name" required>
            <input type="number" step="0.1" name="quantity" placeholder="Quantity" required>
            <button type="submit">Add to Inventory</button>
        </form>
        <form action="{{ url_for('product_by_isbn') }}" method="POST">
            <label for="isbn_code">Enter Barcode or ISBN:</label>
            <input type="text" id="isbn_code" name="isbn_code" required>
            <button type="submit">Search Open Food Facts</button>
        </form>
    </div>
  </div>
{% include 'footer.html' %}